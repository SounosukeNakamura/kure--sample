<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>呉市スポーツ少年団 登録状況管理</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>呉市スポーツ少年団 登録状況管理</h1>
        </header>

        <!-- CSVアップロードセクション -->
        <div class="upload-section">
            <label for="csvFile" class="upload-label">
                <span>少年団登録データCSVを選択</span>
                <input type="file" id="csvFile" accept=".csv" />
            </label>
            <div id="uploadStatus"></div>
        </div>

        <!-- サマリーカード -->
        <div id="summarySection" class="summary-section hidden">
            <div class="card">
                <h3>登録団数</h3>
                <p class="card-value" id="originalCount">-</p>
            </div>
            <div class="card">
                <h3>総団員数</h3>
                <p class="card-value" id="genericCount">-</p>
            </div>
            <div class="card">
                <h3>スポーツ種目数</h3>
                <p class="card-value" id="totalQuantity">-</p>
            </div>
            <div class="card">
                <h3>平均団員数</h3>
                <p class="card-value" id="avgPriceDiff">-</p>
            </div>
        </div>

        <!-- チャートセクション -->
        <div id="chartsSection" class="charts-section hidden">
            <!-- 登録団名別団員数トップ10 -->
            <div class="chart-container">
                <h2>登録団名別団員数トップ10</h2>
                <canvas id="top10Chart"></canvas>
            </div>

            <!-- スポーツ種目別団員数 -->
            <div class="chart-container">
                <h2>スポーツ種目別団員数（登録団名別集計）</h2>
                <canvas id="priceComparisonChart"></canvas>
            </div>
        </div>

        <!-- 登録団名別団員分布 (全幅) -->
        <div id="distributionSection" class="distribution-section hidden">
            <div class="chart-container-full">
                <h2>登録団名別団員分布</h2>
                <canvas id="quantityDistributionChart"></canvas>
            </div>
        </div>

        <!-- 詳細テーブル -->
        <div id="tableSection" class="table-section hidden">
            <h2>詳細データテーブル</h2>
            <div class="table-controls">
                <input type="text" id="searchInput" placeholder="団名またはスポーツ種目で検索...">
                <select id="itemsPerPage">
                    <option value="10">10件</option>
                    <option value="25" selected>25件</option>
                    <option value="50">50件</option>
                    <option value="100">100件</option>
                </select>
            </div>
            <div class="table-wrapper">
                <table id="dataTable">
                    <thead>
                        <tr>
                            <th>登録団名</th>
                            <th>所属少年団</th>
                            <th>小学男子</th>
                            <th>小学女子</th>
                            <th>中学男子</th>
                            <th>中学女子</th>
                            <th>小学生計</th>
                            <th>中学生計</th>
                            <th>合計</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                    </tbody>
                </table>
            </div>
            <div class="pagination">
                <button id="prevPage">前へ</button>
                <span id="pageInfo"></span>
                <button id="nextPage">次へ</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
