# スポーツデータダッシュボード

## 概要
<<<<<<< HEAD
呉市内のスポーツ少年団の登録状況を可視化・管理するダッシュボードアプリケーションです。
**登録団名別に団員数を集計・分析**し、各登録団全体の団員構成を把握できます。
=======
スポーツチーム・選手のパフォーマンスデータを可視化するダッシュボードアプリケーションです。
>>>>>>> parent of 511f4dd (スポーツ少年団ように変更)
HTMLとJavaScriptのみで構築されており、サーバーやフレームワークは不要です。

## 主な機能

### 1. 登録団名別の集計分析
- **RegistrationGroupStatsクラス** で登録団名ごとの団員統計を管理
- 男女別・世代別（小学生・中学生）の内訳を自動計算
- 性別内訳、世代別内訳の取得機能

### 2. データアップロード
- CSVファイルをブラウザから直接アップロード
- ファイル読み込み後、自動的にダッシュボードを表示

<<<<<<< HEAD
### 3. サマリーカード
- **登録団数** - 異なる登録団名の数
- **総団員数** - 全登録団の合計団員数
- **スポーツ種目数** - 取り組むスポーツ種目の種類
- **平均団員数** - 登録団名別の平均団員数（登録団数で除算）

### 4. グラフ表示
1. **登録団名別団員数トップ10** - 棒グラフ
   - 団員数が多い登録団TOP10を表示
   
2. **スポーツ種目別団員数（登録団名別集計）** - 比較棒グラフ
   - 各スポーツ種目の総団員数と登録団数
   
3. **登録団名別団員分布** - 折れ線グラフ
   - 登録団名別の団員数推移（TOP15）

### 5. 詳細テーブル（登録団名別）
- 登録団名、所属少年団、世代別・性別内訳を表形式で表示
- 登録団名または所属少年団名での検索機能
- ページネーション
- 表示件数変更（10/25/50/100件）

## データ構造
=======
### サマリーカード
- チーム数
- 選手数
- 合計得点
- 平均得点

### グラフ表示
1. **選手別得点トップ10** - 棒グラフ
2. **チーム別得点比較** - 比較棒グラフ
3. **選手別得点分布** - 折れ線グラフ

### 詳細テーブル
- 全データを表形式で表示
- 検索機能
- ページネーション
- 表示件数変更（10/25/50/100件）

## CSVフォーマット
>>>>>>> parent of 511f4dd (スポーツ少年団ように変更)

### CSVフォーマット
```csv
<<<<<<< HEAD
登録団名,少年団名,スポーツ種目,活動頻度,活動施設,小学男子,小学女子,中学男子,中学女子
呉北スポーツクラブ,呉野球少年団,野球,週3回,呉野球場,15,3,8,2
呉北スポーツクラブ,呉サッカー少年団,サッカー,週2回,呉中央グラウンド,12,8,10,7
呉南スポーツクラブ,呉バレーボール少年団,バレーボール,週2回,呉体育館,5,12,6,10
=======
日付,チーム名,対戦相手,選手名,得点,リバウンド,アシスト
2024-01-15,チームA,チームB,選手1,25,8,5
>>>>>>> parent of 511f4dd (スポーツ少年団ように変更)
```

### RegistrationGroupStatsクラス
各登録団の統計情報を管理するクラス：

**プロパティ:**
- `registrationName` - 登録団名
- `dantaiList` - 属する少年団名のリスト
- `boys_elementary` - 小学男子
- `girls_elementary` - 小学女子
- `boys_middle` - 中学男子
- `girls_middle` - 中学女子
- `total` - 総団員数

**メソッド:**
- `addMembers()` - 団員数を集計
- `getGenderBreakdown()` - 性別内訳を取得（男性・女性）
- `getGenerationBreakdown()` - 世代別内訳を取得（小学生・中学生）
- `getDistributionData()` - グラフ用の分布データを取得

### aggregatedData オブジェクト
登録団名をキーとした`RegistrationGroupStats`の辞書：
```javascript
aggregatedData = {
  "呉北スポーツクラブ": RegistrationGroupStats {
    registrationName: "呉北スポーツクラブ",
    dantaiList: ["呉野球少年団", "呉サッカー少年団"],
    boys_elementary: 27,
    girls_elementary: 11,
    boys_middle: 18,
    girls_middle: 9,
    total: 65
  },
  // ...
}
```

## 処理ロジック

### 1. CSV解析と集計（parseCSV）
- 登録団名ごとに`RegistrationGroupStats`を作成
- 各行の団員数を登録団別に集計
- `rawData`と`aggregatedData`を同時に保持

### 2. トップ10集計（updateTop10Chart）
- `aggregatedData`から団員数でソート
- 上位10登録団を抽出してグラフ化

### 3. 分布データ生成（updateQuantityDistributionChart）
- 登録団名別に団員数でソート
- 上位15登録団の分布グラフを表示

### 4. テーブル表示（updateTable）
- `aggregatedData`をページングして表示
- 登録団名、所属少年団、団員内訳を表示

## 使用方法

1. `index.html` をブラウザで開く
<<<<<<< HEAD
2. 「少年団登録データCSVを選択」ボタンをクリック
3. 登録団名を含むCSVファイルを選択
=======
2. 「スポーツデータCSVを選択」ボタンをクリック
3. CSVファイルを選択
>>>>>>> parent of 511f4dd (スポーツ少年団ように変更)
4. 自動的にダッシュボードが表示されます

## 技術スタック

- HTML5
- CSS3
- JavaScript (Vanilla) - ES6クラス構文を使用
- Chart.js (グラフ描画ライブラリ)

## データモデルの利点

✅ **登録団単位での管理** - 複数の少年団をまとめて管理
✅ **男女別・世代別の内訳** - 詳細な団員構成の把握
✅ **拡張性** - 新しい集計項目の追加が容易
✅ **JSON互換** - APIやデータベースへの連携が可能

## ブラウザ対応

- Chrome (推奨)
